<html lang="en">

<head>
    <% include partials/head %>
        <script src="js/debit.js"></script>
</head>

<body ng-app="debit" ng-controller="debitController" class="mainContent">
    <div>
        <div>
            <div class="row">
                <div class="col s2">
                    <h4>Welcome, </h4>
                </div>
                <div class="col s6">
                    <h4 id="usernameHeader"><%= user.id%></h4>
                </div>
                <div class="right">
                    <a class="btn waves-effect waves-light blue-grey" href="logout">Log out</a>
                </div>
                <br>
            </div>
        </div>
        <nav>
            <div class="nav-wrapper blue-grey ">
                <a href="#" class="brand-logo right">Elastic</a>
                <ul id="nav-mobile" class="left hide-on-med-and-down">
                    <li><a href="index">Home</a></li>
                    <li><a href="balanceInquire">Balance Inquire</a></li>
                    <li class="active"><a href="debit">Debit</a></li>
                    <li><a href="deposit">Deposit</a></li>
                    <li><a href="inquire">Inquire</a></li>
                    <li><a href="/addAccount">Add New Account</a></li>
                </ul>
            </div>
        </nav>
    </div>
    <br>
    <div>
        <form ng-submit="debit(accountID, amount)">
            <div class="row">
                <div class="input-field col s6">
                    <input placeholder="type your account id" ng-model="accountID" type="text" class="validate" required="" aria-required="true" maxlength="20">
                    <label for="account_id">Account ID</label>
                </div>
                <div class="input-field col s6">
                    <input ng-model="amount" type="number" min="1" class="validate" required="" aria-required="true" maxlength="20">
                    <label for="amount">Amount</label>
                </div>
                <button class="btn waves-effect waves-light" type="submit"> debit
                </button>
            </div>
            <div id="alert" ng-show="postError" class="row">
                <div class="card-panel">
                    <span class="red-text text-darken-2">DEBIT FAILED</span>
                </div>
            </div>
            <div id="alert" ng-show="successPost" class="row">
                <div class="card-panel">
                    <span class="blue-grey-text text-darken-2">{{amount|currency}} IS NOW DEBIT FROM YOUR ACCOUNT: {{accountID}}</span>
                </div>
            </div>
        </form>
    </div>
    <footer>
        <% include partials/footer %>
    </footer>
</body>

</html>
